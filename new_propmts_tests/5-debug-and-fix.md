---
description: "Отладка и исправление ошибок"
---

# Цель

Найти и исправить проблемы в коде: ошибки, баги, неожиданное поведение или несоответствие требованиям.

## Входные данные
- Описание проблемы от пользователя
- Сообщения об ошибках (логи, stack traces)
- Конкретные файлы, где проявляется проблема

## Принципы качественной отладки

### КРИТИЧНЫЙ ПРИОРИТЕТ - Переиспользование решений:
- **Ищи аналогичные исправления**: найди, как решались похожие проблемы в проекте
- **Используй установленные паттерны**: следуй принципам обработки ошибок, принятым в проекте
- **Минимальные изменения**: вноси только необходимые исправления

### ВЫСОКИЙ ПРИОРИТЕТ - Обратная совместимость:
- **Сохраняй интерфейсы**: не меняй публичные методы при исправлениях
- **Тестируй зависимости**: убедись, что исправление не ломает другой код
- **Документируй изменения**: объясни, что и зачем исправлено

## Процесс

### 1. Локализация проблемы
1. **Воспроизведение**: Изучи описание проблемы и воспроизведи её
2. **Анализ ошибок**: Изучи stack trace и сообщения об ошибках
3. **Поиск источника**: Найди файл и строку, где происходит ошибка

### 2. Систематический поиск аналогичных решений
**АЛГОРИТМ ПОИСКА ИСПРАВЛЕНИЙ:**
```
1. Поиск похожих ошибок: ищи в коде места с аналогичными проверками
2. Анализ паттернов обработки: как проект обрабатывает подобные случаи
3. Поиск примеров валидации: найди существующие проверки данных
РЕЗУЛЬТАТ: готовый паттерн для применения
```

### 3. Анализ влияния исправления
**Обязательная проверка совместимости:**
1. **Найти места использования**: где вызывается исправляемая функция/компонент
2. **Проверить интерфейсы**: не изменяются ли входные/выходные параметры
3. **Протестировать критические пути**: основные сценарии использования

### 4. Реализация исправления
1. **Применить проверенный паттерн**: использовать найденные в проекте подходы
2. **Минимальные изменения**: исправить только проблемное место
3. **Следовать стилю**: использовать принятые в проекте форматирование и соглашения

### 5. Проверка качества исправления
- ✅ Проблема решена и не воспроизводится
- ✅ Сохранена обратная совместимость
- ✅ Код соответствует стилю проекта
- ✅ Добавлены необходимые проверки для предотвращения повторения

## Типичные подходы к исправлениям

### JavaScript/TypeScript ошибки:
- **Undefined/null**: Добавить проверки по образцу существующих в проекте
- **Async ошибки**: Использовать паттерны обработки Promise, принятые в проекте
- **Типизация**: Следовать соглашениям TypeScript проекта

### CSS/стили проблемы:
- **Конфликты**: Использовать методологию CSS, принятую в проекте (BEM, CSS-modules)
- **Адаптивность**: Следовать брейкпоинтам и сетке проекта

### Backend ошибки:
- **Валидация**: Использовать установленную в проекте библиотеку валидации
- **Ошибки БД**: Следовать паттернам обработки ошибок БД в проекте

## Условия остановки
- Нет явного понимания проблемы - запросите уточнения
- Исправление затрагивает >3 файлов - требуется дополнительное планирование
- 2 неудачные попытки подряд - смените подход

## Результат
Исправленный код, который решает проблему, сохраняет совместимость и следует стандартам проекта.