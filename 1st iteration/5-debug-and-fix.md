---
description: "Отладка и исправление проблем в коде"
---

# Отладка и исправление проблем

## Цель
Найти и исправить проблемы в коде: ошибки, баги, неожиданное поведение или несоответствие требованиям.

## Входные данные
- Описание проблемы от пользователя
- Сообщения об ошибках (логи, stack traces)
- Неожиданное поведение системы
- Несоответствие критериям приёмки

## Процесс

### Шаг 1: Анализ проблемы
1. **Воспроизведение проблемы:**
   - Изучи описание проблемы
   - Определи шаги для воспроизведения
   - Проанализируй сообщения об ошибках

2. **Локализация проблемы:**
   - Найди файлы, связанные с проблемой
   - Определи область кода, где происходит ошибка
   - Изучи логику выполнения кода

### Шаг 2: Исследование причин
1. **Анализ кода:**
   - Изучи подозрительные участки кода
   - Проверь логику условий и циклов
   - Найди возможные источники ошибок

2. **Проверка зависимостей:**
   - Изучи взаимодействие с другими компонентами
   - Проверь корректность данных на входе
   - Убедись в правильности использования API

3. **Анализ изменений:**
   - Определи, когда проблема появилась
   - Найди связанные недавние изменения
   - Сравни с рабочими аналогами в проекте

### Шаг 3: Разработка решения
1. **Выбор подхода:**
   - Определи минимальное исправление
   - Рассмотри несколько вариантов решения
   - Выбери наиболее безопасный подход

2. **Проверка решения:**
   - Убедись, что исправление решает проблему
   - Проверь, что не ломается другой функционал
   - Протестируй граничные случаи

### Шаг 4: Реализация исправления
1. **Внесение изменений:**
   - Примени минимальные необходимые изменения
   - Следуй стилю и соглашениям проекта
   - Добавь комментарии, если логика неочевидна

2. **Проверка исправления:**
   - Убедись, что проблема решена
   - Протестируй основные сценарии использования
   - Проверь обратную совместимость

### Шаг 5: Предотвращение повторения
1. **Анализ причин:**
   - Определи, почему проблема возникла
   - Найди схожие места в коде, где может быть аналогичная проблема
   - При необходимости исправь и их

2. **Улучшение кода:**
   - Добавь проверки входных данных
   - Улучши обработку ошибок
   - Добавь логирование для отладки

## Типичные проблемы и подходы

### JavaScript/TypeScript ошибки:
- **Undefined/null ошибки:** Добавить проверки существования
- **Асинхронные ошибки:** Правильная обработка Promise и async/await
- **Типизация:** Исправить типы и интерфейсы

### CSS/стили проблемы:
- **Неправильное отображение:** Проверить селекторы и специфичность
- **Адаптивность:** Исправить медиа-запросы и flexbox/grid
- **Конфликты стилей:** Решить пересечения классов

### Backend ошибки:
- **Валидация данных:** Добавить проверки входящих данных
- **Работа с БД:** Исправить запросы и обработку результатов
- **API ошибки:** Правильная обработка HTTP статусов

### Интеграционные проблемы:
- **API взаимодействие:** Проверить формат запросов/ответов
- **Зависимости:** Обновить или исправить импорты
- **Конфигурация:** Проверить настройки окружения

## Принципы качественной отладки

### Систематический подход:
- Используй логирование для понимания потока выполнения
- Изолируй проблему пошагово
- Проверяй гипотезы методически

### Минимальные изменения:
- Вноси только необходимые исправления
- Не рефактори код без острой необходимости
- Сохраняй существующую логику где возможно

### Безопасность исправлений:
- Проверяй влияние на другие части системы
- Тестируй различные сценарии использования
- Документируй сложные исправления

## Инструменты отладки
- Логи и console.log для трассировки
- Инструменты разработчика браузера
- Дебаггеры IDE
- Инструменты профилирования производительности

## Критерии завершения
- ✅ Проблема воспроизведена и понята
- ✅ Найдена и устранена причина ошибки
- ✅ Исправление протестировано
- ✅ Обратная совместимость сохранена
- ✅ Добавлены меры предотвращения повторения
- ✅ Код соответствует стандартам проекта

## Результат
Исправленный код, который решает проблему и работает стабильно.