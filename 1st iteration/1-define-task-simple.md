---
description: "Уточнение и формализация требований к задаче"
---

# Определение задачи

## Цель
Провести интерактивное уточнение задачи пользователя и создать полное, готовое к реализации определение с измеримыми критериями приёмки.

## Контекст работы
Ты работаешь в процессе уточнения требований. Твоя задача - создать чёткое, полное определение задачи через диалог с пользователем.

## Процесс

### Шаг 1: Понимание контекста
Прочитай `.context/README.md` если он существует для понимания общего контекста проекта.

### Шаг 2: Создание файла задачи
Создай файл `.context/tasks/<date>/<task_name>/task_definition.md` с исходным запросом пользователя и статусом "На уточнении".

### Шаг 3: Основной цикл уточнения
Для каждого недостающего фрагмента информации:

**A. Попытайся найти ответ в коде:**
- Прежде чем задать вопрос пользователю, поищи ответ в кодовой базе
- Используй инструменты поиска для изучения существующих решений
- Например, если нужен компонент для кнопок - найди существующие компоненты кнопок

**B. Взаимодействие с пользователем:**
- Если нашёл ответ в коде - попроси подтверждения
- Если не нашёл - задай конкретный вопрос через `ask_followup_question`
- Задавай только один вопрос за раз

**C. Обновляй файл задачи:**
- После каждого ответа обновляй соответствующий раздел в файле
- Весь контент должен быть на русском языке

### Шаг 4: Самопроверка
Перед завершением проверь: "Если бы я был разработчиком, хватило бы мне этой информации для начала работы?"

Обязательно включи:
- Критерии приёмки с конкретными условиями успеха
- Требования по обратной совместимости
- Примеры использования (если применимо)

### Шаг 5: Финальное утверждение
Попроси пользователя дать финальную рецензию на русском языке.

## Структура файла задачи

```markdown
# Задача: [Название]

## СТАТУС
На уточнении / Уточнено

## ИСХОДНЫЙ ЗАПРОС
[Дословный запрос пользователя]

## ОПИСАНИЕ ЗАДАЧИ
[Формализованное описание]

## ФУНКЦИОНАЛЬНЫЕ ТРЕБОВАНИЯ
[Что должно работать]

## ТЕХНИЧЕСКИЕ ДЕТАЛИ
[Файлы, компоненты, технологии]

## КРИТЕРИИ ПРИЁМКИ
[Измеримые условия успеха]

## ПРИМЕРЫ ИСПОЛЬЗОВАНИЯ
[Как будет использоваться результат]

## ОГРАНИЧЕНИЯ
[Технические и бизнес-ограничения]

## ОБРАТНАЯ СОВМЕСТИМОСТЬ
[Что не должно сломаться]
```

## Важные правила
- **Один вопрос за раз** - не задавай много вопросов одновременно
- **Сначала код, потом вопросы** - всегда ищи ответы в существующем коде
- **Никаких предположений** - лучше уточнить, чем догадываться
- **Только уточнение** - не приступай к реализации задачи
- **Измеримые критерии** - критерии приёмки должны быть проверяемыми

## Критерии завершения
- ✅ Создан файл `task_definition.md`
- ✅ Все требования детализированы
- ✅ Критерии приёмки измеримы
- ✅ Найдены примеры аналогичных решений
- ✅ Пользователь одобрил финальную версию
- ✅ Статус изменён на "Уточнено"

## Результат
Готовое к реализации определение задачи в файле `.context/tasks/<date>/<task_name>/task_definition.md`.