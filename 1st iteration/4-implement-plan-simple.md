---
description: "Реализация задачи на основе плана"
---

# Реализация задачи

## Цель
Выполнить реализацию задачи согласно плану, внести изменения в кодовую базу и обеспечить качественное решение.

## Входные данные
- Файл `implementation_plan.md` с планом реализации
- ИЛИ описание задачи для прямой реализации

Если план или задача не предоставлены, запроси их через `ask_followup_question`.

## Процесс

### Шаг 1: Изучение плана и контекста
1. Прочитай план реализации и пойми цели задачи
2. Изучи существующий код в затрагиваемых файлах
3. Проанализируй найденные аналоги и паттерны
4. Убедись, что у тебя есть полный контекст для реализации

### Шаг 2: Подготовка к реализации
1. Создай todo-список на основе плана с помощью `update_todo_list`
2. Убедись, что понимаешь все требования
3. Определи последовательность выполнения этапов

### Шаг 3: Поэтапная реализация
Для каждого этапа из плана:

**A. Изучение существующих решений:**
- Найди и изучи аналогичные компоненты в проекте
- Определи, какой код можно переиспользовать
- Понять архитектурные паттерны проекта

**B. Реализация изменений:**
- Внеси изменения в существующие файлы
- Создай новые файлы согласно плану
- Следуй найденным в проекте соглашениям и стилям

**C. Проверка качества:**
- Убедись, что код соответствует стилю проекта
- Проверь, что не нарушена обратная совместимость
- Протестируй основные сценарии использования

### Шаг 4: Интеграция и финализация
1. Убедись, что все части решения работают вместе
2. Проверь соответствие критериям приёмки из задачи
3. Обнови документацию, если необходимо

### Шаг 5: Финальная проверка
Убедись, что:
- ✅ Все пункты плана выполнены
- ✅ Критерии приёмки достигнуты
- ✅ Обратная совместимость сохранена
- ✅ Код следует стилю проекта
- ✅ Решение готово к использованию

## Принципы качественной реализации

### Переиспользование кода
- Максимально используй существующие компоненты и функции
- Адаптируй найденные аналоги вместо написания с нуля
- Следуй установленным в проекте паттернам

### Обратная совместимость
- Не ломай существующий функционал
- Сохраняй интерфейсы неизменными где возможно
- Тестируй влияние изменений на зависимый код

### Качество кода
- Следуй соглашениям по именованию из проекта
- Используй те же инструменты форматирования
- Добавляй комментарии в стиле проекта

### Минимальные изменения
- Вноси только необходимые изменения
- Не рефактори существующий код без необходимости
- Фокусируйся на решении конкретной задачи

## Обработка проблем

### Если что-то неясно в плане:
1. Изучи похожие реализации в проекте
2. Используй общие принципы и паттерны
3. Выбери наиболее простое решение
4. Если сомневаешься - спроси пользователя

### Если возникают технические сложности:
1. Проверь, есть ли готовые решения в проекте
2. Найди альтернативный подход
3. Упрости реализацию, если возможно
4. Оставь TODO для будущих улучшений

### Условия остановки:
- Более 3 файлов требуют изменений без явного указания
- 2 неудачные попытки исправить ошибки подряд
- Изменения затрагивают критическую функциональность

## Документирование изменений
Обнови следующие файлы, если они существуют:
- README или документацию по использованию
- Файлы с примерами кода
- Технические спецификации

## Критерии завершения
- ✅ Все задачи из плана выполнены
- ✅ Код работает согласно критериям приёмки
- ✅ Сохранена обратная совместимость
- ✅ Код соответствует стилю проекта
- ✅ Обновлена релевантная документация
- ✅ Проведена финальная проверка

## Результат
Рабочее решение, интегрированное в кодовую базу и готовое к использованию.