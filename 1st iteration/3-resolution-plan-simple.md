---
description: "Создание детального плана реализации"
---

# Планирование реализации

## Цель
Создать детальный, проверенный план реализации задачи, который позволит выполнить её точно и эффективно.

## Входные данные
- Файл `task_definition.md` с описанием задачи
- Файл `research.md` с техническим исследованием (опционально)
- ИЛИ описание задачи на естественном языке

Если задача не предоставлена, запроси её через `ask_followup_question`.

## Процесс

### Шаг 1: Анализ задачи
Внимательно изучи:
- Требования и критерии приёмки
- Техническую область воздействия
- Ограничения и предположения

### Шаг 2: Исследование существующего кода
Найди и изучи:
- Файлы, которые потребуется изменить
- Аналогичные реализации в проекте
- Архитектурные паттерны и соглашения
- Зависимости и интеграции

### Шаг 3: Техническое планирование
Определи:
- Какие конкретно файлы создать/изменить
- Какой код можно переиспользовать
- Как интегрироваться с существующей архитектурой
- Потенциальные риски и их решения

### Шаг 4: Создание плана
Создай файл `.context/tasks/{date}/{task_name}/implementation_plan.md`:

```markdown
# План реализации: [Название задачи]

## ОБЗОР ЗАДАЧИ
- **Цель:** [Краткое описание цели]
- **Проблема:** [Какая проблема решается]
- **Решение:** [Высокоуровневое описание решения]

## ТЕХНИЧЕСКИЙ АНАЛИЗ
### Текущая архитектура
[Релевантные части существующей архитектуры]

### Затрагиваемые компоненты
[Список компонентов и их роль в решении]

### Существующие решения
[Аналогичные реализации, которые можно использовать как основу]

## ПЛАН РЕАЛИЗАЦИИ
### Этап 1: [Название]
**Задачи:**
- [ ] [Конкретная задача]
- [ ] [Конкретная задача]

**Файлы для изменения:**
- `path/to/file.ext` - [описание изменений]

### Этап 2: [Название]
**Задачи:**
- [ ] [Конкретная задача]
- [ ] [Конкретная задача]

**Файлы для создания:**
- `path/to/new/file.ext` - [описание назначения]

## ТЕХНИЧЕСКИЕ ДЕТАЛИ
### Изменяемые файлы
[Полные пути и описание планируемых изменений]

### Создаваемые файлы
[Полные пути и назначение новых файлов]

### Зависимости
[Внешние библиотеки, внутренние модули]

### Интеграция
[Как новый код интегрируется с существующим]

## ОБЕСПЕЧЕНИЕ КАЧЕСТВА
### Переиспользование кода
[Какие существующие решения используются]

### Обратная совместимость
[Как сохраняется совместимость с существующим функционалом]

### Тестирование
[Подход к проверке работоспособности]

## РИСКИ И МИТИГАЦИЯ
[Потенциальные проблемы и способы их решения]

## ПРИМЕРЫ РЕАЛИЗАЦИИ
[Ключевые фрагменты кода или ссылки на аналоги]
```

### Шаг 5: Самопроверка
Проверь план по критериям:
- [ ] Все файлы из плана существуют или их создание обосновано
- [ ] Каждый шаг конкретен и выполним
- [ ] План основан на существующих аналогах
- [ ] Учтены все требования из задачи
- [ ] Решены вопросы обратной совместимости
- [ ] Нет неявных требований, не указанных пользователем

## Принципы качественного планирования
- **Конкретность** - каждый шаг должен быть actionable
- **Основа на аналогах** - использовать существующие паттерны
- **Минимизм** - не добавлять ничего "на всякий случай"
- **Переиспользование** - максимально использовать существующий код
- **Совместимость** - сохранять работоспособность существующего функционала

## Критерии завершения
- ✅ Проанализированы все требования задачи
- ✅ Изучены существующие аналоги и паттерны
- ✅ Создан детальный пошаговый план
- ✅ Определены все файлы для изменения/создания
- ✅ Учтена обратная совместимость
- ✅ План проверен на выполнимость
- ✅ Создан файл `implementation_plan.md`

## Результат
Готовый к выполнению план реализации в файле `.context/tasks/{date}/{task_name}/implementation_plan.md`.